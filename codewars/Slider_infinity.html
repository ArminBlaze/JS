<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	
	<style>
		.slider {
			display: flex;
			width: 300px;
			border: 3px solid red;
			position: relative;
			padding: 0 30px;
			margin: 0 auto;
		}
		
		.slider__prev,
		.slider__next {
			position: absolute;
			width: 30px;
			border: 1px solid black;
			height: 100%;
			background: green;
			left: 0;
		}
		
		.slider__next {
			left: auto;
			right: 0;
		}
		
		.slide {
			flex-shrink: 0;
			width: 300px;
			height: 100px;
			border: 1px solid black;
			box-sizing: border-box;
		}
		
		.slider__slides {
			display: flex;
		}
		
		.slider__slides * {
			
		}
		
		.slider__slides :first-child {
			margin-left: -300px;
			transition: all 1s;
		}
	</style>
</head>
<body>
<div class="slider">
	<div class="slider__prev slider__button"></div>
	<div class="slider__next slider__button"></div>
	<div class="slider__slides"></div>
</div>

	<script>
//		var DIVS = [1, 2, 3, 4, 5, 6, 7, 8, 9];
		var DIVS = [{text: 0},
								{text: 1},
								{text: 2},
								{text: 3},
								{text: 4},
								{text: 5},
								{text: 6},
								{text: 7},
								{text: 8},
							 ]
		
		var slider = document.querySelector('.slider');
		var slides = slider.querySelector('.slider__slides');
		var prev = slider.querySelector('.slider__prev');
		var next = slider.querySelector('.slider__next');
		var sliderIndex = 0;
		var sliderWidth = 1;
		
		DIVS.forEach( (item) => {
			var div = document.createElement('div');
			div.innerHTML = item.text;
			div.classList.add('slide');
			item.elem = div;
			slides.appendChild(div);
		});
		
		console.log(DIVS)
		
		slider.addEventListener('click', onSliderClick);
		
		function onSliderClick(e) {
			var target = e.target;
			
			if(!target.classList.contains('slider__button')) return;
			if(target.classList.contains('slider__next')) {
				scrollSlider(true);
			} 
			else {
				scrollSlider(false);
			}
		}
		
		function scrollSlider(direction) {
			console.log(sliderIndex);
			
			var index = calculateSliderIndex(direction, sliderIndex);
			
			sliderIndex = moveElementsInArray(index, DIVS);
			
			console.log(sliderIndex);
			console.log(DIVS);
			
			
		}
		
		function moveElementsInArray(index) {
			//если индекс отрицательный - нужно взять несколько последних элементов и приклеить их в начало. Индекс установить в ноль
			//если индекс больше длины - нужно взять несколько первых элементов и приклеить их в конец. Индекс установить = длине-1
			//если индекс положительной, но меньше длины - скролим
			
			console.log(index);
			var returnValue = 0;
			var position;
			var modul;
			if(index < 0) {
				//сделать pop+shift несколько раз
				//взять n последних элементов и сделать их первыми
				modul = Math.abs(index);
				position = DIVS.length - modul;
				var removed = DIVS.splice(position, modul);
				DIVS.unshift(...removed);
			}
			else if(index > DIVS.length-1) {
				returnValue = DIVS.length;
				//сделать unshift+push несколько раз
				//взять n первых элементов и сделать последними
				position = 0;
				modul = sliderWidth;
				var removed = DIVS.splice(position, modul);
				DIVS.push(...removed);
			}
			else {
				return index;
				//ничего не делать, просто скролить
			}
			
			
			
			return returnValue;
		}
		
		function calculateSliderIndex(direction, index) {
			return (direction) ? (index + sliderWidth) : (index - sliderWidth)
		}
		
	</script>
</body>
</html>