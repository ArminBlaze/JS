<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>
<body>
	<script>
//		Решето Эратосфена
//		важность: 3
//
//		Целое число, большее 1, называется простым, если оно не делится нацело ни на какое другое, кроме себя и 1.
//
//		Древний алгоритм «Решето Эратосфена» для поиска всех простых чисел до n выглядит так:
//
//				Создать список последовательных чисел от 2 до n: 2, 3, 4, ..., n.
//				Пусть p=2, это первое простое число.
//				Зачеркнуть все последующие числа в списке с разницей в p, т.е. 2*p, 3*p, 4*p и т.д. В случае p=2 это будут 4,6,8....
//				Поменять значение p на первое не зачеркнутое число после p.
//				Повторить шаги 3-4 пока p2 < n.
//				Все оставшиеся не зачеркнутыми числа – простые.
//
//		Посмотрите также анимацию алгоритма. http://learn.javascript.ru/task/eratosthenes-sieve/sieve.gif
//
//		Реализуйте «Решето Эратосфена» в JavaScript, используя массив.
//
//		Найдите все простые числа до 100 и выведите их сумму.
		
		function eratosfen (n) {
			var arr = [];
			var p = 2;
			var sum = 0;
			
//			Создать список последовательных чисел от 2 до n: 2, 3, 4, ..., n.
			for (var i = 2; i <= n; i++) {
				arr.push(i);
			}
			
			while (p*p < n) {
				
	//			Зачеркнуть все последующие числа в списке с разницей в p, т.е. 2*p, 3*p, 4*p и т.д. В случае p=2 это будут 4,6,8....
				for (var j = 2; p*j-2 < arr.length; j++) {
					
						arr[p*j-2] = undefined;
					
				}

	//			Поменять значение p на первое не зачеркнутое число после p.
				for (var k = arr.indexOf(p)+1; k < arr.length; k++) {
					if(arr[k]) {
						p = arr[k];
						break;
					}
				}
				console.log("p: " + p);
			}
			
			for (var m = 0; m < arr.length; m++) {
				if(arr[m]) {
					sum += arr[m];
				}
			}
			
			
			return [arr, sum];
		}
		
		var result = eratosfen(100);
		console.log(result);
	</script>
</body>
</html>