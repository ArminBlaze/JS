<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>
<body>
	<script>
//		Останавливать кофеварку при выключении
//		важность: 5
//
//		Когда кофеварку выключают – текущая варка кофе должна останавливаться.
//
//		Например, следующий код кофе не сварит:
		
		 function Machine(power) {
			this.timer = 0;
			 
      this._enabled = false;

      this.enable = function() {
        this._enabled = true;
      };

      this.disable = function() {
        this._enabled = false;
				
				if(this.timer) {
					clearTimeout(this.timer);
				}
      };
    }

    function CoffeeMachine(power) {
      Machine.apply(this, arguments);

      var waterAmount = 0;

      this.setWaterAmount = function(amount) {
        waterAmount = amount;
      };

      function onReady() {
        alert('Кофе готово!');
      }

      this.run = function() {
				if(this._enabled) {
        	this.timer = setTimeout(onReady, 1000);
				} else {
					alert("Сначала нужно включить кофеварку!")
				}
				
      };

    }
		
		var coffeeMachine = new CoffeeMachine(10000);
		coffeeMachine.enable();
		coffeeMachine.run();
		coffeeMachine.disable(); // остановит работу, ничего не выведет
	</script>
</body>
</html>